// Wait for the DOM to be fully loaded
document.addEventListener('DOMContentLoaded', () => {
  // Function to load external HTML content into a specific container
  const loadContent = (url, containerId) => {
    return fetch(url)
      .then(response => response.text())
      .then(data => {
        document.getElementById(containerId).innerHTML = data;
      })
      .catch(error => {
        console.error('Error loading content:', error);
      });
  };

  // Load the header and footer
  Promise.all([
    loadContent('header.html', 'header-container'),
    loadContent('footer.html', 'footer-container')
  ])
  .then(() => {
    // Once content is loaded, make the page visible
    document.body.style.visibility = 'visible';

    // Add scroll event listener for sticky header
    const header = document.querySelector('ul.h'); // Ensure this is the header loaded
    if (header) {
      window.addEventListener('scroll', () => {
        if (window.scrollY > 50) { // Adjust threshold as needed
          header.style.backgroundColor = 'rgba(156, 38, 38, 1)'; // Full opacity
          header.style.borderRadius = '0px'; // Sharp corners
          header.style.opacity = '0.9'; // Reduced opacity on scroll
          header.style.margin = '0px';
        } else {
          header.style.backgroundColor = 'rgba(156, 38, 38, 0.8)'; // Less opaque when at top
          header.style.borderRadius = '100px'; // Rounded corners
          header.style.opacity = '1'; // Full opacity at top
          header.style.margin = '10px';
        }
      });
    }
  });
});
